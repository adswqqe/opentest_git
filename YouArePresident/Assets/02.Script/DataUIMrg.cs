using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.UI;

public class DataUIMrg : MonoBehaviour
{
    public static DataUIMrg Instance;
    public Sprite[] BtnSprite;
    public GameObject option;
    public Text dayText;
    public Text GoldText;
    public Image EFF;
    public Image BGM;
    void Awake()
    {
        if (Instance == null)
            Instance = this;
        else if (Instance != this)
            Destroy(this.gameObject);

        DontDestroyOnLoad(this.gameObject);

    }
    // Use this for initialization
    void Start()
    {
        // setDisplayData();
    }

    public void DestroyDataCanvas()
    {
        Invoke("InvokeDestroy", 1.0f);
    }

    void InvokeDestroy()
    {
        Destroy(this.gameObject);
    }

    public void setDisplayData()
    {
        dayText.text = DataMrg.dataMrg.OutData(10).ToString();
        GoldText.text = DataMrg.dataMrg.OutData(11).ToString();
    }

    public void OnOffOption()
    {
        SoundMrg.Instance.StartEFF(5);
        option.active = !option.active;
    }

    public void SoundOnOff(bool isBGM)
    {
        SoundMrg.Instance.StartEFF(2);
        if (!isBGM)
        {
            if (SoundMrg.Instance.isEFFOff)
                EFF.sprite = BtnSprite[0];
            else
                EFF.sprite = BtnSprite[1];
        }
        else
        {
            if (SoundMrg.Instance.isBGMOff)
                BGM.sprite = BtnSprite[1];
            else
                BGM.sprite = BtnSprite[0];
        }
        SoundMrg.Instance.StopBGM(isBGM);
    }
}
